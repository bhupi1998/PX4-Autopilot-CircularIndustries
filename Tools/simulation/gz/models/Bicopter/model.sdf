<?xml version="1.0" encoding="UTF-8"?>
<sdf version="1.10">
    <model name='BiCopter'>
      <link name='base_link'>
        <sensor name="air_pressure_sensor" type="air_pressure">
          <always_on>1</always_on>
          <update_rate>50</update_rate>
          <air_pressure>
            <pressure>
              <noise type="gaussian">
                <mean>0</mean>
                <stddev>0.01</stddev>
              </noise>
            </pressure>
          </air_pressure>
        </sensor>
        <sensor name="imu_sensor" type="imu">
          <always_on>1</always_on>
          <update_rate>250</update_rate>
        </sensor>
        <inertial>
          <mass>19.18</mass>
          <inertia>
            <ixx>1.57</ixx>
            <ixy>0</ixy>
            <ixz>0</ixz>
            <iyy>1.03</iyy>
            <iyz>0.02</iyz>
            <izz>0.77</izz>
          </inertia>
          <pose>0 0 0 0 -0 0</pose>
        </inertial>
        <pose>0 0 0 0 -0 0</pose>
        <gravity>1</gravity>
        <self_collide>0</self_collide>
        <kinematic>0</kinematic>
        <enable_wind>0</enable_wind>
        <visual name='visual'>
          <pose>0 0 0 0 -0 0</pose>
          <geometry>
            <mesh>
              <uri>/home/bp/github/PX4-Autopilot-CircularIndustries/Tools/simulation/gz/models/Bicopter/meshes/Base.dae</uri>
              <scale>1 1 1</scale>
            </mesh>
          </geometry>
          <material>
            <lighting>1</lighting>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/Grey</name>
            </script>
            <shader type='pixel'>
              <normal_map>__default__</normal_map>
            </shader>
            <ambient>0.3 0.3 0.3 1</ambient>
            <diffuse>0.7 0.7 0.7 1</diffuse>
            <specular>0.01 0.01 0.01 1</specular>
            <emissive>0 0 0 1</emissive>
          </material>
          <transparency>0</transparency>
          <cast_shadows>1</cast_shadows>
        </visual>
        <collision name='collision'>
          <laser_retro>0</laser_retro>
          <max_contacts>10</max_contacts>
          <pose>0 0 0 0 -0 0</pose>
          <geometry>
            <mesh>
              <uri>/home/bp/github/PX4-Autopilot-CircularIndustries/Tools/simulation/gz/models/Bicopter/meshes/Base.dae</uri>
              <scale>1 1 1</scale>
            </mesh>
          </geometry>
        </collision>
      </link>

      <link name='Motor1'>
        <inertial>
          <mass>0.99063</mass>
          <inertia>
            <ixx>0.00082</ixx>
            <ixy>0</ixy>
            <ixz>0</ixz>
            <iyy>0.00082</iyy>
            <iyz>0</iyz>
            <izz>0.0011</izz>
          </inertia>
        </inertial>
        <pose>-0.56 0.000654 0.655453 0 -0 0</pose>
        <visual name='visual'>
          <pose>0 0 0 0 -0 0</pose>
          <geometry>
            <mesh>
              <uri>/home/bp/github/PX4-Autopilot-CircularIndustries/Tools/simulation/gz/models/Bicopter/meshes/Motor.dae</uri>
              <scale>1 1 1</scale>
            </mesh>
          </geometry>
          <material>
            <lighting>1</lighting>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/Grey</name>
            </script>
            <shader type='pixel'/>
            <emissive>0 0 0 1</emissive>
          </material>
          <transparency>0</transparency>
          <cast_shadows>1</cast_shadows>
        </visual>
        <collision name='collision'>
          <laser_retro>0</laser_retro>
          <max_contacts>10</max_contacts>
          <pose>0 0 0 0 -0 0</pose>
          <geometry>
            <mesh>
              <uri>/home/bp/github/PX4-Autopilot-CircularIndustries/Tools/simulation/gz/models/Bicopter/meshes/Motor.dae</uri>
              <scale>1 1 1</scale>
            </mesh>
          </geometry>
        </collision>
      </link>
      <link name='Motor2'>
        <inertial>
          <mass>0.99063</mass>
          <inertia>
            <ixx>0.00082</ixx>
            <ixy>0</ixy>
            <ixz>0</ixz>
            <iyy>0.00082</iyy>
            <iyz>0</iyz>
            <izz>0.0011</izz>
          </inertia>
        </inertial>
        <pose>0.56 0.00032 0.655453 0 -0 0</pose>
        <visual name='visual'>
          <pose>0 0 0 0 -0 0</pose>
          <geometry>
            <mesh>
              <uri>/home/bp/github/PX4-Autopilot-CircularIndustries/Tools/simulation/gz/models/Bicopter/meshes/Motor.dae</uri>
              <scale>1 1 1</scale>
            </mesh>
          </geometry>
          <material>
            <lighting>1</lighting>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/Grey</name>
            </script>
            <shader type='pixel'/>
            <emissive>0 0 0 1</emissive>
          </material>
          <transparency>0</transparency>
          <cast_shadows>1</cast_shadows>
        </visual>
        <collision name='collision'>
          <laser_retro>0</laser_retro>
          <max_contacts>10</max_contacts>
          <pose>0 0 0 0 -0 0</pose>
          <geometry>
            <mesh>
              <uri>/home/bp/github/PX4-Autopilot-CircularIndustries/Tools/simulation/gz/models/Bicopter/meshes/Motor.dae</uri>
              <scale>1 1 1</scale>
            </mesh>
          </geometry>
        </collision>
      </link>
      <link name='Prop1'>
        <inertial>
          <mass>0.1</mass>
          <inertia>
            <ixx>0.00004</ixx>
            <iyy>0.00451</iyy>
            <izz>0.00447</izz>
          </inertia>
        </inertial>
        <pose>-0.56 0.000654 0.713891 0 -0 0</pose>
        <visual name='visual'>
          <pose>0 0 0 0 -0 0</pose>
          <geometry>
            <mesh>
              <uri>/home/bp/github/PX4-Autopilot-CircularIndustries/Tools/simulation/gz/models/Bicopter/meshes/Prop.dae</uri>
              <scale>1 1 1</scale>
            </mesh>
          </geometry>
          <material>
            <lighting>1</lighting>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/Grey</name>
            </script>
            <shader type='pixel'/>
            <emissive>0 0 0 1</emissive>
          </material>
          <transparency>0</transparency>
          <cast_shadows>1</cast_shadows>
        </visual>
        <collision name='collision'>
          <pose>0 0 0 0 -0 0</pose>
          <geometry>
            <mesh>
              <uri>/home/bp/github/PX4-Autopilot-CircularIndustries/Tools/simulation/gz/models/Bicopter/meshes/Prop.dae</uri>
              <scale>1 1 1</scale>
            </mesh>
          </geometry>
        </collision>
      </link>
      <link name='Prop2'>
        <inertial>
          <mass>0.1</mass>
          <inertia>
            <ixx>0.00004</ixx>
            <iyy>0.00451</iyy>
            <izz>0.00447</izz>
          </inertia>
        </inertial>
        <pose>0.56 0.00032 0.713891 0 -0 0</pose>
        <visual name='visual'>
          <pose>0 0 0 0 -0 0</pose>
          <geometry>
            <mesh>
              <uri>/home/bp/github/PX4-Autopilot-CircularIndustries/Tools/simulation/gz/models/Bicopter/meshes/Prop.dae</uri>
              <scale>1 1 1</scale>
            </mesh>
          </geometry>
          <material>
            <lighting>1</lighting>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/Grey</name>
            </script>
            <shader type='pixel'/>
            <emissive>0 0 0 1</emissive>
          </material>
          <transparency>0</transparency>
          <cast_shadows>1</cast_shadows>
        </visual>
        <collision name='collision'>
          <pose>0 0 0 0 -0 0</pose>
          <geometry>
            <mesh>
              <uri>/home/bp/github/PX4-Autopilot-CircularIndustries/Tools/simulation/gz/models/Bicopter/meshes/Prop.dae</uri>
              <scale>1 1 1</scale>
            </mesh>
          </geometry>
        </collision>
      </link>
      <joint name='Motor1_Tilt_Joint' type='revolute'>
        <parent>base_link</parent>
        <child>Motor1</child>
        <pose>0 0 0 0 -0 0</pose>
        <axis>
          <xyz>1 0 0</xyz>
          <limit>
            <lower>-0.785398163</lower>
            <upper>0.785398163</upper>
          </limit>
          <dynamics>
            <damping>1</damping>
          </dynamics>
        </axis>
        <physics>
          <ode>
            <implicit_spring_damper>1</implicit_spring_damper>
          </ode>
        </physics>
      </joint>
      <joint name='Motor2_Tilt_Joint' type='revolute'>
        <parent>base_link</parent>
        <child>Motor2</child>
        <pose>0 0 0 0 -0 0</pose>
        <axis>
          <xyz>1 0 0</xyz>
          <limit>
            <lower>-0.785398163</lower>
            <upper>0.785398163</upper>
          </limit>
          <dynamics>
            <damping>1</damping>
          </dynamics>
        </axis>
        <physics>
          <ode>
            <implicit_spring_damper>1</implicit_spring_damper>
          </ode>
        </physics>
      </joint>
      <joint name='Prop1_Joint' type='revolute'>
        <parent>Motor1</parent>
        <child>Prop1</child>
        <pose>0 0 0 0 -0 0</pose>
        <axis>
          <xyz>0 0 1</xyz>
          <limit>
            <lower>-1.79769e+308</lower>
            <upper>1.79769e+308</upper>
          </limit>
          <dynamics>
            <spring_reference>0</spring_reference>
            <spring_stiffness>0</spring_stiffness>
            <damping>0</damping>
          </dynamics>
        </axis>
      </joint>
      <joint name='Prop2_Joint' type='revolute'>
        <parent>Motor2</parent>
        <child>Prop2</child>
        <pose>0 0 0 0 -0 0</pose>
        <axis>
          <xyz>0 0 1</xyz>
          <limit>
            <lower>-1.79769e+308</lower>
            <upper>1.79769e+308</upper>
          </limit>
          <dynamics>
            <spring_reference>0</spring_reference>
            <spring_stiffness>0</spring_stiffness>
            <damping>0</damping>
          </dynamics>
        </axis>
      </joint>
      <static>0</static>
      <allow_auto_disable>1</allow_auto_disable>
        <plugin filename="gz-sim-multicopter-motor-model-system" name="gz::sim::systems::MulticopterMotorModel">
            <jointName>Prop1_Joint</jointName>
            <linkName>Prop1</linkName>
            <motorNumber>0</motorNumber>
            <turningDirection>cw</turningDirection>
            <timeConstantUp>0.0225</timeConstantUp>
            <timeConstantDown>0.035</timeConstantDown>
            <maxRotVelocity>7000.0</maxRotVelocity>
            <motorConstant>0.000143</motorConstant>
            <momentConstant>0.073</momentConstant>
            <commandSubTopic>command/motor_speed</commandSubTopic>
            <rotorDragCoefficient>8.06428e-05</rotorDragCoefficient>
            <rollingMomentCoefficient>1e-06</rollingMomentCoefficient>
            <rotorVelocitySlowdownSim>10</rotorVelocitySlowdownSim>
            <motorType>velocity</motorType>
          </plugin>
          <plugin filename="gz-sim-multicopter-motor-model-system" name="gz::sim::systems::MulticopterMotorModel">
            <jointName>Prop2_Joint</jointName>
            <linkName>Prop2</linkName>
            <motorNumber>1</motorNumber>
            <turningDirection>ccw</turningDirection>
            <timeConstantUp>0.0225</timeConstantUp>
            <timeConstantDown>0.035</timeConstantDown>
            <maxRotVelocity>7000.0</maxRotVelocity>
            <motorConstant>0.000143</motorConstant>
            <momentConstant>0.073</momentConstant>
            <commandSubTopic>command/motor_speed</commandSubTopic>
            <rotorDragCoefficient>8.06428e-05</rotorDragCoefficient>
            <rollingMomentCoefficient>1e-06</rollingMomentCoefficient>
            <rotorVelocitySlowdownSim>10</rotorVelocitySlowdownSim>
            <motorType>velocity</motorType>
          </plugin>
          <!-- Tilt servo plug ins. Using standard_vtol as reference-->
        <plugin
          filename="gz-sim-joint-position-controller-system" name="gz::sim::systems::JointPositionController">
          <joint_name>Motor1_Tilt_Joint</joint_name>
          <sub_topic>servo_0</sub_topic>
          <p_gain>20</p_gain>
          <i_gain>4</i_gain>
        </plugin>
        <plugin
        filename="gz-sim-joint-position-controller-system" name="gz::sim::systems::JointPositionController">
        <joint_name>Motor2_Tilt_Joint</joint_name>
        <sub_topic>servo_1</sub_topic>
        <p_gain>20</p_gain>
        <i_gain>4</i_gain>
      </plugin>
    </model>
</sdf>
